<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-session2" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Session 2 - web scraping | IDS 2023/24 tutoring</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://github.com/ids-tutoring/session2"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Session 2 - web scraping | IDS 2023/24 tutoring"><meta data-rh="true" name="description" content="Live demo: repository"><meta data-rh="true" property="og:description" content="Live demo: repository"><link data-rh="true" rel="icon" href="/ids-tutoring/img/favicon.png"><link data-rh="true" rel="canonical" href="https://github.com/ids-tutoring/session2"><link data-rh="true" rel="alternate" href="https://github.com/ids-tutoring/session2" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/ids-tutoring/session2" hreflang="x-default"><link rel="stylesheet" href="/ids-tutoring/assets/css/styles.bee8f922.css">
<link rel="preload" href="/ids-tutoring/assets/js/runtime~main.ec2a354e.js" as="script">
<link rel="preload" href="/ids-tutoring/assets/js/main.ec87df8b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ids-tutoring/"><div class="navbar__logo"><img src="/ids-tutoring/img/logo.png" alt="UL FRI Data Science logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/ids-tutoring/img/logo.png" alt="UL FRI Data Science logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">IDS 2023/24 - tutoring</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/KlemenVovk/ids-tutoring" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ids-tutoring/">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ids-tutoring/session0">Session 0 - prerequisites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ids-tutoring/session1">Session 1 - Git and Python for data science</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/ids-tutoring/session2">Session 2 - web scraping</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ids-tutoring/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Session 2 - web scraping</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Web scraping</h1><p><strong>Live demo:</strong> <a href="https://github.com/KlemenVovk/ids-tutoring-s2" target="_blank" rel="noopener noreferrer">repository</a></p><p><strong>Solve it yourself homework problem:</strong> TBA after the tutoring session.</p><p><strong>Further practice: <a href="https://www.scrapethissite.com/pages" target="_blank" rel="noopener noreferrer">here</a></strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-why-when-and-how">The why, when and how<a href="#the-why-when-and-how" class="hash-link" aria-label="Direct link to The why, when and how" title="Direct link to The why, when and how">​</a></h2><p><strong>Why:</strong> sometimes the dataset you want just isn&#x27;t available (you&#x27;ve searched on <a href="https://datasetsearch.research.google.com/" target="_blank" rel="noopener noreferrer">Google dataset search</a>, <a href="https://kaggle.com/" target="_blank" rel="noopener noreferrer">Kaggle</a> ...), or you&#x27;re working with data with a time dimension and want the newest data (e.g. news, stock prices, etc.).</p><p><strong>When:</strong> whenever you can&#x27;t find a csv/json/other data file, but know where the data is online.</p><p><strong>How:</strong> I propose a division of web scraping into 3 types:</p><ol><li>Web scraping using APIs - here we request data from APIs that were exposed by the site itself.</li><li>Web scraping static websites - here we work with only HTML (no need for browser automation, just a simple request).</li><li>Web scraping with browser automation - here we automate a web browser to navigate the web page, trigger loading new data and saving it just as we would manually.</li></ol><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>If you have to do web scraping, always prefer 1. over 2. over 3. (the purpose of an API is to expose data - this is exactly what you want). However, it may not always be possible (the API might not be publicly available, it might be paid, it might not expose all the data you want, etc.). In this approach we say &quot;I want this data with these properties in this format.&quot; and the API just gives it to us.</p><p>The second option is the easiest when an API is not available and the site loads all of the content you want in the initial HTML (no need to scroll to trigger additional image/comment loading etc.). In this we say &quot;go to this URL and get the whole page that shows up.&quot;. This way we get everything that is initially displayed, however that might not be everything we want (e.g. you may need to scroll down to trigger comments to load, or you may need to login first etc.)</p><p>The third option is when all else fails and can work on any site you can view, however it is also way more error prone and can be clunky to execute, here we tell the browser &quot;go to this site, enter the username and password, click login, wait 2s, scroll down to trigger loading of images/comments, get the comments etc.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Many popular sites try to thwart web scraping on purpose (e.g. Instagram, Twitter, Facebook, Reddit). At the very least they throw a lot of roadblocks at you if you are doing browser automation (mandatory login to proceed, captchas, rate limiting, if a scraper is detected they can prevent you from accessing the site through IP bans etc.). These sites know that their data is valuable and will try everything to make you go the API route as the API is usually paid or your application needs to be approved (which is often a lengthy bureaucratic process) - the pricing can be very steep and well outside your resources (as demonstrated by the <a href="https://en.wikipedia.org/wiki/2023_Reddit_API_controversy" target="_blank" rel="noopener noreferrer">2023 Reddit API pricing controversy</a>). Due to this, many ways of circumventing these measures were also made (automatic captcha solvers, using proxies to circumvent IP bans, blocking login popups etc.).</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="wait-how-does-the-web-work">Wait, how does the web work?<a href="#wait-how-does-the-web-work" class="hash-link" aria-label="Direct link to Wait, how does the web work?" title="Direct link to Wait, how does the web work?">​</a></h2><p>Let&#x27;s start by giving a brief introduction on how the web works. There&#x27;s a LOT more to it, I will only mention some of the parts you need to be familiar with for web scraping.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-even-is-a-webpage">What even is a webpage?<a href="#what-even-is-a-webpage" class="hash-link" aria-label="Direct link to What even is a webpage?" title="Direct link to What even is a webpage?">​</a></h3><p>A webpage is defined by three things:</p><ul><li>HTML (.html files) - this defines the structure (here&#x27;s a headline, follow it with a paragraph and this image, then add a link, ...)</li><li>CSS (.css files, sometimes can be directly embedded into .html) - this prettifies things (make this headline red, the width of this picture should be 700px, when the screen is less than X pixels wide (mobile phones) display columns one after the other rather than side-by-side...)</li><li>Javascript (.js files, sometimes can be directly embedded into .html) - this adds dynamic elements to the webpage (when a user scrolls down, trigger loading of new images/comments, when the user logs in, change the text of this button to Logout, when the user clicks calculate, compute and display the result, ...)</li></ul><p>We will primarily concern ourselves with HTML and CSS. Javascript is what actually causes problems (e.g. if we are scraping comments, it would be ideal if all the comments came in the HTML, however this is rarely the case, usually HTMl only contains the &quot;comments section&quot;, but the actual comments are only loaded with Javascript once the user scrolls down far enough to see the &quot;comments section&quot;). Javascript makes sense from the user experience standpoint (why would we make the user wait for all 5421 comments to load in with the article, increasing the wait time by several orders of magnitude if we can only show the top 10 comments by default and then the user can request for more?), but is terrible for web scraping, because you usually want all the data, but all the data simply isn&#x27;t there on the initial page load.</p><p><strong>This is where I would like to make the distinction between &quot;static&quot; and &quot;dynamic&quot; websites:</strong> a static website ideally has no javascript whatsoever and all the data a user sees is already in the HTML itself, but this is quite rare. A dynamic website uses Javascript to load additional data after the page has loaded. An example of a static website would be Wikipedia, while a dynamic website is something like Youtube where comments, titles, subscriptions are loaded with Javascript after the initial page load.</p><p><strong>Why do we prefer static over dynamic pages for web scraping?</strong></p><p>Below we can see what Youtube looks like if we disable Javascript. If we enabled it, only what fits on the screen would be filled in (the technical term is hydration), and then if we scrolled down, additional videos (thumbnails, titles) would begin to load (this is not achievable without selenium).</p><p><img loading="lazy" alt="youtube skeleton" src="/ids-tutoring/assets/images/youtube_skeleton-17fce8aa301f7d091afe8f7498a65705.png" width="1887" height="694" class="img_ev3q"></p><p>If we compare this to a Wikipedia page with disabled Javascript, we can see that this is much more scraper friendly as mostly everything is already in the bare HTML with no requirement of hydration.</p><p><img loading="lazy" alt="wikipedia skeleton" src="/ids-tutoring/assets/images/wikipedia_skeleton-b524a74aa534bcb78c6b7fd22d487941.png" width="1880" height="647" class="img_ev3q"></p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>To check if what parts of the website are static/dynamic you can disable execution of Javascript: open devtools in Chrome (F12), then check <code>Disable cache</code> (network tab), press <code>Ctrl + Shift + P</code>, search for <code>Disable Javascript</code> and execute that, then reload the page and see what&#x27;s displayed.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-a-webpage-load">How does a webpage load?<a href="#how-does-a-webpage-load" class="hash-link" aria-label="Direct link to How does a webpage load?" title="Direct link to How does a webpage load?">​</a></h3><p>Below is a very simplified diagram of the process of loading a web page.</p><p><img loading="lazy" alt="csr" src="/ids-tutoring/assets/images/csr-2779c0730f4ad10587f7d0214cb6ae18.png" width="692" height="353" class="img_ev3q"></p><p><a href="https://rubygarage.org/blog/how-to-integrate-ssr-for-react-app" target="_blank" rel="noopener noreferrer">image source</a></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Technically, the method from the picture is called CSR (client-side-rendering). Roughly explained: first only the minimal HTML file is sent to the browser (remember the skeleton of the Youtube we saw?). The browser parses it and finds out that the HTML file has links to other files (i.e. CSS files, images, fonts, Javascript files, etc.), these are then requested and downloaded. Then the downloaded Javascript is executed and the webpage becomes interactive.</p><p>The server could pre-render some of the HTML and send it so that the client wouldn&#x27;t have to do the work (e.g. the titles of the videos could be in the HTML already). This is called SSR (server-side-rendering). There are <a href="https://www.locofy.ai/blog/what-the-heck-is-web-rendering" target="_blank" rel="noopener noreferrer">MANY</a> approaches to rendering web pages each with various impacts on web scraping. As a rule of thumb, for web scraping, you want as much of the data as possible to be loaded in with the base HTML and not filled in with Javascript later.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="web-scraping-using-apis">Web scraping using APIs<a href="#web-scraping-using-apis" class="hash-link" aria-label="Direct link to Web scraping using APIs" title="Direct link to Web scraping using APIs">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="but-what-is-an-api-and-how-does-it-differ-from-a-website">But, what is an API and how does it differ from a website?<a href="#but-what-is-an-api-and-how-does-it-differ-from-a-website" class="hash-link" aria-label="Direct link to But, what is an API and how does it differ from a website?" title="Direct link to But, what is an API and how does it differ from a website?">​</a></h3><p>In short:, an API serves as a bridge for an application to access data or features from another application, while a website is designed for human users to interact with content through a web browser. A sample interaction is shown below:</p><p><img loading="lazy" alt="restapi" src="/ids-tutoring/assets/images/rest-api-2c05235d07a4b51f70c1307955b0a765.png" width="1210" height="848" class="img_ev3q"></p><p><a href="https://mannhowie.com/rest-api" target="_blank" rel="noopener noreferrer">image source</a></p><p>As you can see, we talk to an API in the same manner that we talk to websites - through accessing specific URLs. There are two main things to point out:</p><ul><li>See how the response is not a .HTML file or a website that is displayed to a user, but rather a JSON file? This is great as JSON can be directly parsed to a Python dictionary without needing to do any HTML parsing magic.</li><li>Other HTTP (HTTP is just a protocol - set of rules for communication on the internet) methods such as POST, UPDATE and DELETE are also used (a web browser mainly uses the GET method). This is because an API can also do some changes. In example: if you create a stock trading bot, it will probably use multiple GET calls to get the stock prices, while it will also buy/sell stocks for which it will use the POST method.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>There are multiple ways (rules) of creating an API. The most popular, <a href="https://stackoverflow.blog/2020/03/02/best-practices-for-rest-api-design/" target="_blank" rel="noopener noreferrer">REST</a>,  is described above. Another popular set of rules is <a href="https://graphql.org/" target="_blank" rel="noopener noreferrer">GraphQL</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="important-terminology">Important terminology<a href="#important-terminology" class="hash-link" aria-label="Direct link to Important terminology" title="Direct link to Important terminology">​</a></h3><p>Below is all the terminology I believe you should be familiar with for working with APIs:</p><ul><li><strong>Endpoint</strong>: the specific URL where an API can be accessed, often representing a particular resource or function. For example storeapi.com/orders for accessing/operating on orders. What we want to do is then differentiated by HTTP methods, i.e. GET storeapi.com/orders will list the orders, POST storeapi.com/orders will create an order, DELETE storeapi.com/orders/3 will delete the order with id 3 etc. Creating an API that follows these assumptions will result in a better experience for the developers using it.</li><li><strong>HTTP Methods</strong>: Verbs used to indicate the desired action in an API request, such as &quot;GET&quot; for retrieving data or &quot;POST&quot; for submitting data.</li><li><strong>Request</strong>: An HTTP message sent by the client (you) to an API to retrieve data or perform an action.</li><li><strong>Response</strong>: The data returned by the API after processing your request, usually in JSON or XML format.</li><li><strong>API Key</strong>: basically a unique ID that identifies you to the API, often required for authorization.</li><li><strong>Rate Limiting</strong>: A restriction set by the API that limits the number of requests you can make within a specified time period. The limit may become more and more strict if a scraper is detected.</li><li><strong>Query Parameters</strong>: Additional data included in the URL to filter, sort, or modify the API response (e.g., search queries or date filters). This is anything after the <code>?</code> sign, e.g. <code>GET /quotes/random?minLength=100&amp;maxLength=140</code> to get only quotes between 100 and 140 characters in length.</li><li><strong>Body Parameters</strong>: Data included in the body of a request, often used in &quot;POST&quot; requests to submit data to the API. Basically instead of writing your parameters in the URL itself after the <code>?</code> sign (as with query parameters), you send them as a dictionary (JSON) in the request body. Rule of thumb: GET and DELETE use query parameters only (<code>GET or DELETE /orders?id=123</code>), POST and PUT mainly use body parameters (<code>POST /api/users { &quot;name&quot;: &quot;John&quot;, &quot;email&quot;: &quot;john@example.com&quot; }</code> or <code>PUT /api/users/123 { &quot;name&quot;: &quot;Updated Name&quot; }</code>)</li><li><strong>Pagination</strong>: breaking up large API responses into several chunks (similar to how an online store has multiple pages of products that you click through). Some APIs include a pagination link in the response, you can then use this link to get the next batch of results (next page).</li><li><strong>HTTP Status Codes</strong>: Three-digit codes included in the API response to indicate how the request went (e.g., 200 for success, 404 for not found). Roughly, 200s are OK, 300s mean redirections, 400s are client errors (e.g. 404 if you request something that doesn&#x27;t exist), 500s are server errors (you can&#x27;t do much about these). Read more <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status" target="_blank" rel="noopener noreferrer">here</a>.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>When to use certain status codes, HTTP methods, and pagination are just rules API developers should follow. However, there is no guarantee, and it is technically perfectly valid to create an API that only uses POST requests for everything and returns 404 if it encounters any error (server or client side). Working with such APIs is a nightmare and is why you should read up on REST API best practices before creating your own API.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-we-scrape-data-through-apis">How do we scrape data through APIs?<a href="#how-do-we-scrape-data-through-apis" class="hash-link" aria-label="Direct link to How do we scrape data through APIs?" title="Direct link to How do we scrape data through APIs?">​</a></h3><p>Scraping data through an API can be roughly described in the following steps:</p><ol><li>Find an API and its documentation. Review limitations (rate limits, accessible data) and terms of service and respect those.</li><li>Get access to the API (if the API isn&#x27;t free, you probably have to register to get an API key, think of it like a password you send with every request to prove to the API that you are allowed to do what you&#x27;re trying to do).</li><li>Make some queries to get data.</li><li>Store the data.</li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Good API documentation is never guaranteed. This is one of the reasons why I recommended <a href="https://fastapi.tiangolo.com/" target="_blank" rel="noopener noreferrer">FastAPI</a> in session 1, should you need to ever create an API yourself, because <a href="https://fastapi.tiangolo.com/tutorial/first-steps/#interactive-api-docs" target="_blank" rel="noopener noreferrer">FastAPI generates documentation for you automatically</a>. This type of documentation is displayed by <a href="https://github.com/swagger-api/swagger-ui" target="_blank" rel="noopener noreferrer">Swagger UI</a>, so if you ever come across the term &quot;Swagger docs&quot; you know what it is.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Remember when we mentioned the <a href="https://pypi.org/project/requests/" target="_blank" rel="noopener noreferrer">requests</a> library for talking to APIs in the first tutoring session? This is where we put it into practice.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>In session 1 I emphasized that sensitive information (secrets like passwords) should not be in git and should be stored in environment variables and accessed with <a href="https://pypi.org/project/python-dotenv/" target="_blank" rel="noopener noreferrer">python-dotenv</a>. This applies to API keys too!</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Before scraping the API, always check if a library that does it for you already exists. For example, if you want to scrape Reddit through the API, there is no need to write all the API requests manually when you can just use the <a href="https://praw.readthedocs.io/en/stable/" target="_blank" rel="noopener noreferrer">PRAW library</a> which does the heavy-lifting for you.</p></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Let&#x27;s do a simple example of scraping data from an API following the above steps.</summary><div><div class="collapsibleContent_i85q"><p><strong>1. Find an API and its documentation</strong></p><p>As simple example we will scrape quotes from the <a href="https://github.com/lukePeavey/quotable" target="_blank" rel="noopener noreferrer">Quotable API</a>. Inspecting the documentation (in the README) we can see that the rate limit is 180 requests per minute and the base API url is <code>https://api.quotable.io</code>.</p><p><strong>2. Get access to the API</strong></p><p>The API is public and doesn&#x27;t require any kind of authentication so we can skip this step. Should the API require anything along those lines, words like &quot;API key&quot;, &quot;OAuth&quot; or &quot;Register&quot; will be mentioned.</p><p><strong>3. Make some queries to get the data</strong>
Let&#x27;s say that our goal is to get 300 quotes about wisdom and love that are at most 200 characters long. Again, <a href="https://github.com/lukePeavey/quotable#list-quotes" target="_blank" rel="noopener noreferrer">referring to the documentation</a> we see the following:</p><p><img loading="lazy" alt="quotable docs" src="/ids-tutoring/assets/images/quotable_list-3e8bdd73e6e9f8a6b0ecb61f77cf7128.png" width="699" height="803" class="img_ev3q"></p><p>So we must issue a GET request to <code>/quotes</code> endpoint with the following query parameters:</p><ul><li><code>tags=wisdom|love</code> - notice, the <code>|</code> for separating different tags is defined by the developers, and it&#x27;s not standard, but makes sense.</li><li><code>limit=150</code> - docs say that we can get at most 150 quotes at once, so we will have to make 2 requests with 150 quotes each.</li><li><code>maxLength=200</code></li><li><code>page=1</code> - we need to make 2 requests to get 300 quotes in total, so this will be incremented to 2 in the second request (to get the second page of quotes).</li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Always try to filter/sort/search your data through the API rather than downloading all the data and then using pandas to sift through. This takes the load of the API (less data sent = less requests to serve usually) and off of you (no need to write filters manually).</p></div></div><p>Putting this into code:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pprint </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pprint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">API_ENDPOINT </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://api.quotable.io/quotes&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">N_QUOTES </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">query_params </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;tags&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;wisdom|love&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;limit&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">150</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;maxLength&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;page&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">N_QUOTES </span><span class="token operator" style="color:#393A34">//</span><span class="token plain"> query_params</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;limit&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># This is a GET request, so params are query parameters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">API_ENDPOINT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> params</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">query_params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    response_json </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pprint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response_json</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Pretty print the response JSON so we can actually read it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># The actual quotes are stored in [&quot;results&quot;] of the response JSON (this is how the API developer defined it)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    results </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response_json</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;results&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    query_params</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;page&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Got </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation builtin">len</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation">results</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> quotes so far...&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Convert the list of dictionaries to a Pandas DataFrame, thankfully pandas makes this easy</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">results</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;quotes.csv&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Save the data to a CSV file</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Console output (notice how the JSON is pretty printed because of <code>pprint()</code> and not in a single line!)</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; python scrape_quotes.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&#x27;count&#x27;: 150,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;lastItemIndex&#x27;: 150,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;page&#x27;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;results&#x27;: [{&#x27;_id&#x27;: &#x27;j7W6pP1XiG&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;author&#x27;: &#x27;Charles Dickens&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;authorSlug&#x27;: &#x27;charles-dickens&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;content&#x27;: &#x27;Train up a fig tree in the way it should go, and &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         &#x27;when you are old sit under the shade of it.&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;dateAdded&#x27;: &#x27;2023-04-14&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;dateModified&#x27;: &#x27;2023-04-14&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;length&#x27;: 92,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;tags&#x27;: [&#x27;Age&#x27;, &#x27;Wisdom&#x27;]},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             {&#x27;_id&#x27;: &#x27;Juy6Vkv1y9V2&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;author&#x27;: &#x27;The Buddha&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;authorSlug&#x27;: &#x27;the-buddha&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;content&#x27;: &#x27;In the sky there are no tracks. Outside there is no &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         &#x27;recluse. There are no conditioned things that are &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                         &#x27;eternal. There is no instability in the Buddhas.&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;dateAdded&#x27;: &#x27;2021-02-27&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;dateModified&#x27;: &#x27;2023-04-14&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;length&#x27;: 150,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;tags&#x27;: [&#x27;Wisdom&#x27;]}],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;totalCount&#x27;: 537,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;totalPages&#x27;: 4}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Got 150 quotes so far...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&#x27;count&#x27;: 150,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;lastItemIndex&#x27;: 300,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;page&#x27;: 2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;results&#x27;: [...],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;totalCount&#x27;: 537,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &#x27;totalPages&#x27;: 4}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Got 300 quotes so far...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>CSV output:</p><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">_id,author,content,tags,authorSlug,length,dateAdded,dateModified</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">j7W6pP1XiG,Charles Dickens,&quot;Train up a fig tree in the way it should go, and when you are old sit under the shade of it.&quot;,&quot;[&#x27;Age&#x27;, &#x27;Wisdom&#x27;]&quot;,charles-dickens,92,2023-04-14,2023-04-14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6S4ONaVMZU,Aesop,Be content with your lot; one cannot be first in everything.,[&#x27;Wisdom&#x27;],aesop,60,2023-04-03,2023-04-14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PlqVkGcCIp,Aesop,Beware lest you lose the substance by grasping at the shadow.,&quot;[&#x27;Wisdom&#x27;, &#x27;Philosophy&#x27;]&quot;,aesop,61,2023-04-03,2023-04-14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RGw_9OPsR_,Aesop,It is easy to be brave from a safe distance.,[&#x27;Wisdom&#x27;],aesop,44,2023-04-03,2023-04-14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t5-eBEIfiB,Aesop,Persuasion is often more effectual than force.,[&#x27;Wisdom&#x27;],aesop,46,2023-04-03,2023-04-14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="useful-resources-for-working-with-apis">Useful resources for working with APIs<a href="#useful-resources-for-working-with-apis" class="hash-link" aria-label="Direct link to Useful resources for working with APIs" title="Direct link to Useful resources for working with APIs">​</a></h3><ul><li><a href="https://jsonformatter.curiousconcept.com/" target="_blank" rel="noopener noreferrer">JSON formatter</a> - make JSON human readable.</li><li><a href="https://httpie.io/desktop" target="_blank" rel="noopener noreferrer">HTTPie Desktop/Web</a> or <a href="https://www.postman.com/" target="_blank" rel="noopener noreferrer">Postman</a> - GUI tools for manually calling/testing APIs.</li><li><a href="https://httpie.io/cli" target="_blank" rel="noopener noreferrer">HTTPie CLI</a> or <a href="https://curl.se/" target="_blank" rel="noopener noreferrer">curl</a> (you already have this installed probably, but HTTPie is more better for APIs) - CLI tools for manually calling/testing APIs.</li><li><a href="https://jqlang.github.io/jq/download/" target="_blank" rel="noopener noreferrer">jq</a> - json formatter from the terminal.</li><li><a href="https://docs.python.org/3/library/pprint.html" target="_blank" rel="noopener noreferrer">pprint</a> - builtin Python module for pretty printing stuff (formats JSON and basically all objects in Python).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="web-scraping-of-static-websites">Web scraping of static websites<a href="#web-scraping-of-static-websites" class="hash-link" aria-label="Direct link to Web scraping of static websites" title="Direct link to Web scraping of static websites">​</a></h2><p>As seen above in the Wikipedia example, some sites are static enough to the point where we don&#x27;t need to execute/load any Javascript as all the data is already in the HTML itself. In this case, we can use tools that only speak HTML, one such tool is the <a href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" target="_blank" rel="noopener noreferrer">beautifulsoup</a> library for Python. Before we can scrape it, we need to get familiar with how it&#x27;s actually built.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="structure-of-an-html-file">Structure of an HTML file<a href="#structure-of-an-html-file" class="hash-link" aria-label="Direct link to Structure of an HTML file" title="Direct link to Structure of an HTML file">​</a></h3><p>The HTML file a browser downloads is a tree of elements. These elements can quite literally be anything and can be nested in one another. Let&#x27;s take a look at a very basic HTML file:</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&lt;!</span><span class="token doctype doctype-tag" style="color:#999988;font-style:italic">DOCTYPE</span><span class="token doctype" style="color:#999988;font-style:italic"> </span><span class="token doctype name" style="color:#999988;font-style:italic">html</span><span class="token doctype punctuation" style="color:#393A34;font-style:italic">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">charset</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">UTF-8</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">viewport</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">width=device-width, initial-scale=1.0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Sample Web Page</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">title</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">meta</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">description</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">content</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">A basic web page for web scraping illustration.</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">styles.css</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Welcome to Web Scraping 101</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">This is a basic web page that we&#x27;ll use to illustrate web scraping.</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">https://example.com</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Visit Example.com</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">a</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">https://samplewebsite.com</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Visit SampleWebsite.com</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">a</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Sample Data</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h2</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">data-container</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">data</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">This is the first data point.</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">data</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">And this is the second data point.</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">https://via.placeholder.com/150</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">alt</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">Sample Image</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">sample-button</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Click Me</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The HTML is always in two main parts: the visible part (anything inside <code>&lt;body&gt;</code> tags) - what the user sees directly, and the invisible part (anything inside <code>&lt;head&gt;</code> tags) - mostly metadata, also linked files (remember when we mentioned that a browser downloads the basic HTML and in that HTML there are links to other files such as fonts, CSS files, Javascript files, etc.?).</p><p>There are a lot of HTML elements for anything from headings (<code>&lt;h1&gt;</code> to <code>&lt;h6&gt;</code>, progressively smaller headings), links (<code>&lt;a&gt;</code>, short for anchor), paragraphs (<code>&lt;p&gt;</code>), buttons (<code>&lt;button&gt;</code>) to form elements (checkboxes, radio buttons, dropdowns, search fields) and images. You can view a more exhaustive list <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element" target="_blank" rel="noopener noreferrer">here</a>. You can learn these as you go because you aren&#x27;t required to write any HTML yourself. One more frequent tag you&#x27;ll see is <code>div</code> (short for division, section), which does nothing on its own and is used to group elements together - i.e. we can put a bunch of links <code>&lt;a&gt;</code> into a <code>&lt;div&gt;</code> and change the background color to indicate importance or outline them with a black border to create a box around them...</p><p>One more thing you should notice is that elements can have (multiple) attributes (a link element needs to have a destination where the user will be redirected, this destination is specified in a <code>href</code> attribute, i.e. <code>&lt;a href=&quot;https://example.com&quot;&gt;</code>).</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><h4 class="anchor anchorWithStickyNavbar_LWe7" id="as-someone-interested-in-web-scraping-only-i-want-you-to-pay-attention-only-to-the-following-things-inside-html">As someone interested in web scraping only, I want you to pay attention only to the following things inside HTML:<a href="#as-someone-interested-in-web-scraping-only-i-want-you-to-pay-attention-only-to-the-following-things-inside-html" class="hash-link" aria-label="Direct link to As someone interested in web scraping only, I want you to pay attention only to the following things inside HTML:" title="Direct link to As someone interested in web scraping only, I want you to pay attention only to the following things inside HTML:">​</a></h4><ul><li>the tags of the elements (<code>&lt;a&gt;</code>, <code>&lt;p&gt;</code>, <code>&lt;button&gt;</code>, <code>&lt;h1&gt;</code>)</li><li>how the elements are nested (which element is a child/sibling/parent of which element)</li><li>the <code>id</code> attribute on any element</li><li>the <code>class</code> attribute on any element</li></ul><p><strong>Your goal when web scraping with HTML will always boil down to selecting the right element and getting some property of it (the text inside it, the destination if it&#x27;s a link, etc.).</strong></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="selecting-the-right-element-to-scrape">Selecting the right element to scrape<a href="#selecting-the-right-element-to-scrape" class="hash-link" aria-label="Direct link to Selecting the right element to scrape" title="Direct link to Selecting the right element to scrape">​</a></h3><p>Before we can get data from the element we are interested in, we have to select it. For this we use <a href="https://www.w3schools.com/cssref/css_selectors.php" target="_blank" rel="noopener noreferrer">CSS selectors</a>. There are 5 main ways of selecting elements in HTML, and you use them depending on your needs:</p><ol><li>Selecting by tag names (&quot;give me all <code>&lt;img&gt;</code> elements&quot;) - this is useful when you want all elements of a certain type no matter at what level they are in the HTML tree. To use them, just specify the tag name i.e. <code>a</code>.</li><li>Selecting by class names (&quot;give me all elements that have an attribute <code>class=something</code>) - classes are usually used to style multiple elements in the same way, e.g. do you see how the tips on this page always have a green background? If you take a look you will see that these tips are <code>div</code> elements with text inside them. So if we wanted to select all elements with tips, we couldn&#x27;t just say <code>div</code>, because there are many other divs that aren&#x27;t for tips. However, all tips have class <code>alert--success</code>, so we can select them with <code>.alert--success</code> (notice the dot!).</li><li>Selecting by ID (&quot;give me this specific element) - this is useful when we want exactly one, unique element, e.g. there is usually just one login button with an <code>id=loginButton</code> attribute (or something similar), so we can select it (to press it) with <code>#loginButton</code> (notice the hashtag!).</li><li>Selecting by descendants (&quot;give me all <code>&lt;a&gt;</code> elements inside <code>&lt;footer&gt;</code>&quot;) - this is useful when we can&#x27;t really comfortably select by tag/class/id, maybe there&#x27;s a <code>&lt;footer&gt;</code> at the bottom of a page that has contact links (<code>&lt;a&gt;</code>), we can select those links by <code>footer &gt; p</code>. You can also select siblings (check the CSS selectors link above).</li><li>Selecting by XPath - a powerful system of selectors that can replace all of the above. It treats HTML as an XML tree (which is exactly what it is). You can read more about it <a href="https://www.scrapingbee.com/blog/practical-xpath-for-web-scraping/" target="_blank" rel="noopener noreferrer">here</a>. Using it is purely personal preference, we won&#x27;t delve into it here, I will just show you how easy it is to automatically generate XPath selectors with Chrome devtools.</li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Usually there are multiple ways you can select an element and they all work. Stick to whatever feels natural to you.</p></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>You can use the starting point (root element) to your advantage. The default root element is <code>&lt;html&gt;</code> and all selectors are executed on whatever is inside it (which is everything). However, you can select a certain <code>&lt;p&gt;</code> as your root element and then run selectors against that. So if you want all links from a particular paragraph, you could first select that paragraph <code>&lt;p&gt;</code> and then use it as a root element to select all <code>&lt;a&gt;</code> elements inside it.</p><p>In general there is no need for you to get the element you want in one line of code. It makes perfect sense that if you e.g. you are scraping a news site and get an article, to first only select the <code>&lt;div&gt;</code> with all contents of the article and use that as the root for further scraping (this way you get rid of the navigation bar, buttons, headers, footers, etc.).</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-bread-and-butter-for-site-inspection-chrome-devtools">The bread and butter for site inspection: Chrome devtools<a href="#the-bread-and-butter-for-site-inspection-chrome-devtools" class="hash-link" aria-label="Direct link to The bread and butter for site inspection: Chrome devtools" title="Direct link to The bread and butter for site inspection: Chrome devtools">​</a></h3><p>To find out what elements there are so that you know what selectors to write, you use the devtools of your preferred browser. These are opened by pressing <code>F12</code> on any site you want to inspect.</p><p><img loading="lazy" alt="devtools" src="/ids-tutoring/assets/images/devtools-ef22bfabf4144208539f82d4a00837e5.png" width="1892" height="845" class="img_ev3q"></p><p>I would like to highlight the following elements (annotated with numbers on the image):</p><ol><li>Press this and then select anything on the page and it will open you that element in the elements window below.</li><li>Elements window - here you can see the HTML that you will be scraping. You can right click any element and select <code>Copy</code> and then <code>Selector</code> or <code>XPath</code> to get a selector specific to that element.</li><li>Sources tab - here you can check the downloaded items (images, scripts, ...)</li><li>Network tab - here you can see all the requests that were made (this is also great if you are trying to reverse engineer an API).</li></ol><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Devtools are used for much more than just inspection, i.e. you can see how the website looks on mobile phones, you can check if the functionality works offline (if you have a calculator on the site, it makes sense to perform this computations locally, so internet connection isn&#x27;t really needed beyond the first load), you can throttle your internet speed to see how the site performs on slow connections, you can take full page screenshots (<code>Ctrl + Shift + P</code>, search for <code>screenshot</code>) etc.</p></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Let&#x27;s do a simple example of scraping a static website</summary><div><div class="collapsibleContent_i85q"><p>Our goal is to scrape all programming languages from <a href="https://en.wikipedia.org/wiki/List_of_programming_languages" target="_blank" rel="noopener noreferrer">this Wikipedia page</a>.</p><p>Let&#x27;s inspect the page with Devtools:</p><p><img loading="lazy" alt="wikipedia soup scraping" src="/ids-tutoring/assets/images/wikisoupscrape-b8b007a2e393b5112d4c65acc337cbc8.png" width="1899" height="768" class="img_ev3q"></p><p>We notice two things:</p><ol><li>All elements that we want (programming languages) are links <code>&lt;a&gt;</code></li><li>These links are always in <code>div</code> elements that have class <code>div-col</code></li></ol><p>This is enough to select them and scrape them!</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> bs4 </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BeautifulSoup </span><span class="token comment" style="color:#999988;font-style:italic"># conda install -c conda-forge beautifulsoup4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># URL of the Wikipedia page to scrape</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BASE_URL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://en.wikipedia.org&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BASE_URL </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/wiki/List_of_programming_languages&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Send a GET request to the URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Parse the HTML content of the page using BeautifulSoup</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">soup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BeautifulSoup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;html.parser&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Find the main content of the page (class = div-col)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">content </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> soup</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find_all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">class_</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;div-col&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># note: class_ is used instead of class (class is a reserved keyword in Python)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># scrape the links from all divs with class=div-col</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> div </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> content</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    links </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> div</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find_all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> link </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> links</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Get the link text (what you actually see), and the link itself.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">link</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> BASE_URL </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> link</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;href&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># convert the results list into a Pandas DataFrame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">results</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> columns</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;language&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;link&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;languages.csv&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Output csv:</p><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">language,link</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A.NET (A#/A sharp),https://en.wikipedia.org/wiki/A_Sharp_(.NET)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A-0 System,https://en.wikipedia.org/wiki/A-0_System</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">A+ (A plus),https://en.wikipedia.org/wiki/A%2B_(programming_language)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ABAP,https://en.wikipedia.org/wiki/ABAP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ABC,https://en.wikipedia.org/wiki/ABC_(programming_language)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_LWe7" id="web-scraping-with-browser-automation">Web scraping with browser automation<a href="#web-scraping-with-browser-automation" class="hash-link" aria-label="Direct link to Web scraping with browser automation" title="Direct link to Web scraping with browser automation">​</a></h2><p>When we were using only beautifulsoup, you may have noticed, we couldn&#x27;t interact with the page (we can&#x27;t really click any buttons or scroll), we were dependent on everything we wanted already being present in the HTML on page load (this is why I chose Wikipedia :)).</p><p>This is where <a href="https://www.selenium.dev/" target="_blank" rel="noopener noreferrer">Selenium</a> comes to the rescue. The <strong>only</strong> thing Selenium does is automate the web browser, so we can navigate to the page, scroll, login and click all we want. Once we have everything we want loaded we get the HTML and from there we can proceed in the exact same way as we did when we were using beautifulsoup (we can even pass the HTML to beautifulsoup, and use that).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h3><p>Selenium needs a web browser (duh), and a web browser driver. The driver is basically a wrapper around a web browser that allows automation (so Selenium can just call something like <code>driver.click()</code> and then the driver will take care of telling the browser to click). This makes sense, because it would be a nightmare if the folks at Selenium had to develop the automation tools for each browser themselves. </p><p>On some systems things just work out of the box. You can check by executing the following script:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> selenium </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> webdriver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> selenium</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">webdriver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">chrome</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Service</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> webdriver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChromeOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">driver </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> webdriver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Chrome</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">service</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Navigate to the webpage you want to scrape</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">driver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;https://www.google.com&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Close the webdriver</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">driver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">quit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If everything works, a browser window should open, navigate to Google and close.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>These webdrivers are a common source of issues (sometimes Selenium doesn&#x27;t find it, sometimes the version of the driver or the browser is wrong etc.). If you run into any issues where the above script doesn&#x27;t run, get in touch and I will try my best to help you solve it.</p><p>You can try troubleshooting yourself by steps outlined <a href="https://www.selenium.dev/documentation/webdriver/troubleshooting/errors/driver_location/" target="_blank" rel="noopener noreferrer">here</a>.</p></div></div><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Let&#x27;s do a simple example of scraping with browser automation</summary><div><div class="collapsibleContent_i85q"><p>Our goal is to scrape the comments from <a href="https://www.rtvslo.si/slovenija/premier-naj-bi-predsednico-dz-ja-pozval-k-odstopu-ocita-se-ji-da-prepogosto-ravna-po-svoje/685890" target="_blank" rel="noopener noreferrer">this RTVSLO article</a>.</p><p>Let&#x27;s inspect the page with Devtools:</p><p><img loading="lazy" alt="rtvslo" src="/ids-tutoring/assets/images/rtvsloscrape-7be2698e8091e76a8ed3a806b7577d24.png" width="1906" height="637" class="img_ev3q"></p><p>We notice the following:</p><ol><li>The comments are on the bottom of the page</li><li>The comments are not loaded by default and have to be loaded in by clicking <code>Prikaži komentarje</code> which is a <code>&lt;a&gt;</code> element with class <code>link-show-comments</code> </li></ol><p>Let&#x27;s load the comments and inspect again:
<img loading="lazy" alt="rtvslo comments" src="/ids-tutoring/assets/images/rtvslocomments-df1bfba072d04b4cdcb5773a2819fb38.png" width="1900" height="656" class="img_ev3q"></p><p>We notice the following:</p><ol><li>Each comment is in a <code>&lt;div&gt;</code> element with the class <code>comment</code></li><li>The text is inside that <code>&lt;div&gt;</code> in one <code>&lt;p&gt;</code> element</li></ol><p>So our plan is to load the page, scroll to the bottom, click <code>Prikaži komentarje</code>, get all divs that have class <code>comment</code> and get the <code>&lt;p&gt;</code> element to copy its text.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> selenium </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> webdriver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> selenium</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">webdriver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">chrome</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">service </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> selenium</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">webdriver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">common</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">by </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> By</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">service </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Service</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> webdriver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ChromeOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">driver </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> webdriver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Chrome</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">service</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">service</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> options</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">options</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">URL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.rtvslo.si/slovenija/premier-naj-bi-predsednico-dz-ja-pozval-k-odstopu-ocita-se-ji-da-prepogosto-ravna-po-svoje/685890&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">driver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">URL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Scroll to the bottom of the page</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">driver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute_script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;window.scrollTo(0, document.body.scrollHeight);&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># click on &quot;Prikaži komentarje&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">driver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find_element</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">By</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CLASS_NAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;link-show-comments&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># wait for 3 seconds for the comments to load</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">time</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sleep</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># find all divs with class &quot;comment&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">results </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comments </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> driver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find_elements</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">By</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">CLASS_NAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;comment&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> comment </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> comments</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Get the main &lt;p&gt; element and its text</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> comment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">find_element</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">By</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">TAG_NAME</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;p&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># get text and make it all one line</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">replace</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">strip</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    results</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Save the results to a CSV file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;comment&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> results</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;article_url&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> URL</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;comments.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Close the webdriver</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">driver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">quit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Output csv:</p><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">comment,article_url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;&quot;&quot;Premier Golob naj bi predsednico DZ-ja pozval k odstopu&quot;&quot;  Lepo prosim da svobodno odstopite vsi skupaj! Vi se ukvarjate sami s sabo, namesto z aktualnimi težavami v državi. Sploh ne nastopate enotno. Tole je pa kaplja čez rob, kot otroci v vrtcu, kdo bo bolj užaljen.  Če bi trenutno obstajala kakšna dobra alternativa, bi bila rešitev predčasne volitve.&quot;,https://www.rtvslo.si/slovenija/premier-naj-bi-predsednico-dz-ja-pozval-k-odstopu-ocita-se-ji-da-prepogosto-ravna-po-svoje/685890</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Kakšen je potem sploh smisel nekih kvot pa ne ven česa vse, če itak vsi morajo glasovati po nareku nekoga? Potem na te funkcije postavite pse in mačke, bo več koristi...&quot;,https://www.rtvslo.si/slovenija/premier-naj-bi-predsednico-dz-ja-pozval-k-odstopu-ocita-se-ji-da-prepogosto-ravna-po-svoje/685890</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Podira se. Maja bomo na volitvah.,https://www.rtvslo.si/slovenija/premier-naj-bi-predsednico-dz-ja-pozval-k-odstopu-ocita-se-ji-da-prepogosto-ravna-po-svoje/685890</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Ma dobro. A živimo ba Kitajskem? Odstopi naj Golob.,https://www.rtvslo.si/slovenija/premier-naj-bi-predsednico-dz-ja-pozval-k-odstopu-ocita-se-ji-da-prepogosto-ravna-po-svoje/685890</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Notice how here, we didn&#x27;t use the <code>requests</code> library anymore. We are using a proper browser to do the requests (and followup requests) for us.</p></div></div></div></div></details><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bonus-rss-feed-scraping">Bonus: RSS feed scraping<a href="#bonus-rss-feed-scraping" class="hash-link" aria-label="Direct link to Bonus: RSS feed scraping" title="Direct link to Bonus: RSS feed scraping">​</a></h2><p>There are other channels that websites use to provide new information. One such protocol is <a href="https://en.wikipedia.org/wiki/RSS" target="_blank" rel="noopener noreferrer">RSS</a> (Really Simple Syndication), you probably know it by the following icon <img loading="lazy" src="rss.png" alt="RSS Feed" width="20" height="20" class="img_ev3q">.</p><p>In short, it&#x27;s a live feed of newly added things (usually articles). It can be very useful, as it&#x27;s not as error prone as HTML scraping, a lot of sites (news, blogs) have it enabled and available by default. The feed is defined by a single file usually at <code>https://site.com/feed</code> or <code>https://site.com/rss</code> (i.e. <a href="https://www.24ur.com/rss" target="_blank" rel="noopener noreferrer">https://www.24ur.com/rss</a>), or you can look for the RSS icon somewhere on the page.</p><p>In Python you can use the <a href="https://pypi.org/project/feedparser/" target="_blank" rel="noopener noreferrer">feedparser library</a> to scrape RSS feeds. There are some limitations compared to API or HTML scraping, mainly, you can&#x27;t really select/filter data, you just get access to a predetermined number of most recent elements (news articles, blog posts).</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Let&#x27;s do a quick example of scraping an RSS feed</summary><div><div class="collapsibleContent_i85q"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> feedparser </span><span class="token comment" style="color:#999988;font-style:italic"># conda install -c conda-forge feedparser</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pprint </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pprint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FEED_URL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://www.24ur.com/rss&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">feed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> feedparser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">parse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">FEED_URL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">feed</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;entries&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;published&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;link&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;summary&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;24ur.csv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> index</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Output csv:</p><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">published,title,link,summary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Mon, 23 Oct 2023 13:56:37 +0200&quot;,Sum kartelnega dogovarjanja z blagoslovom Darsa?,https://www.24ur.com/novice/dejstva/sum-kartelnega-dogovarjanja-z-blagoslovom-darsa.html,&quot;&lt;img alt=&quot;&quot;www.24ur.com&quot;&quot; src=&quot;&quot;https://images.24ur.com/media/images/213xX/Oct2023/5a96ca24c5d93754c1df_63136699.jpg?v=7069&amp;amp;fop=fp:0.33:0.42&quot;&quot; /&gt; V luči našega razkritja, podkrepljenega s posnetkom v rubriki Fokus, da je davčni svetovalec Rok Snežič od skesanca za posel na Darsu zahteval podkupnino in jo tudi dobil, smo pod drobnogled vzeli aktualni javni razpis za avtovleke tovornih vozil. Očitno gre za nevralgično točko Darsa, saj se v omenjeni razpis vpleta sam predsednik uprave Darsa Valentin Hajdinjak. Razkrivamo pa tudi sum kartelnega dogovarjanja. Zakaj je razpis za avtovleke torej tako pomemben? Kaj se dogaja v ozadju?&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Mon, 23 Oct 2023 13:16:00 +0200&quot;,Policija po razkritju domnevnih nepravilnosti na Darsu obiskala POP TV,https://www.24ur.com/novice/slovenija/policija-po-razkritju-domnevnih-nepravilnosti-na-darsu-obiskala-pop-tv.html,&quot;&lt;img alt=&quot;&quot;www.24ur.com&quot;&quot; src=&quot;&quot;https://images.24ur.com/media/images/213xX/Apr2019/947019e0a8_62233080.jpg?v=7bcb&amp;amp;fop=fp:0.34:0.30&quot;&quot; /&gt; Po razkritju domnevnega podkupovanja, izsiljevanja, suma korupcije, favoriziranja in spornih javnih razpisov, vse v povezavi z največjo državno družbo Dars, se je Policija nemudoma odzvala ter na naši medijski hiši zaprosila za predajo dokumentacije in posnetkov. Slovenski državni holding pa je na sestanek pozval celotni nadzorni svet in upravo družbe za avtoceste. Ob tem zagotavljajo, da namerava SDH izkoristiti vsa razpoložljiva sredstva, da se morebitna koruptivna dejanja v bodoče preprečijo, morebiti že izvedena pa raziščejo in ustrezno kaznujejo. Da bodo zadevo prednostno obravnavali, pa zagotavljajo tudi na Komisiji za preprečevanje korupcije.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Mon, 23 Oct 2023 20:06:00 +0200&quot;,&quot;Paketi prehranske pomoči kopnijo, donacij je vse manj&quot;,https://www.24ur.com/novice/slovenija/Paketi-prehranske-pomoci-kopnijo-donacij-je-vse-manj.html,&quot;&lt;img alt=&quot;&quot;www.24ur.com&quot;&quot; src=&quot;&quot;https://images.24ur.com/media/images/213xX/Mar2020/1e5b497bbc_62401233.jpg?v=77f2&amp;amp;fop=fp:0.36:0.53&quot;&quot; /&gt; Na Zvezi prijateljev mladine Moste - Polje so čedalje bolj zaskrbljeni. Na njihovo pomoč trenutno računa več kot 300 družin, veliko se jih mora vsak mesec odločati med nakupom hrane in plačilom položnic. Kako jim bodo pomagali brez pomoči donatorjev, ne vedo, saj je zalog hrane le še za približno dva tedna. Zato pozivajo k donacijam, državo pa k ukrepanju.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Mon, 23 Oct 2023 18:30:44 +0200&quot;,&#x27;Janša načrtno povzroča kaos in izredne razmere&#x27;,https://www.24ur.com/popkast/jansa-nacrtno-povzroca-kaos-in-izredne-razmere.html,&quot;&lt;img alt=&quot;&quot;www.24ur.com&quot;&quot; src=&quot;&quot;https://images.24ur.com/media/images/213xX/Oct2023/7b24b67712ee268a869b_63136848.jpg?v=4f6c&amp;amp;fop=fp:0.31:0.12&quot;&quot; /&gt; Največja opozicijska stranka SDS je v javnomnenjski podpori prvič občutneje odskočila od Gibanja Svoboda. Raziskava Inštituta Mediana kaže tudi, da vladna politika že drugi mesec zapored izgublja javno podporo. Je premier Robert Golob ministrico za kmetijstvo Ireno Šinko in ministra za okolje Uroša Brežana &#x27;odstavil&#x27; prepozno? Zakaj prvak SDS-a poziva ljudi, naj se legalno oborožijo? Gosta tokratnega Popkasta sta bila odgovorni urednik Mladine Grega Repovž in odgovorni urednik portala Necenzurirano Primož Cirman.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>An example use for RSS could also be to get links to scrape - if you&#x27;re scraping a news site for new articles constantly, it would be very beneficial to know which articles are new and which you&#x27;ve already scraped. Since each article in the RSS feed comes with a link pointing to it, it&#x27;s a great, robust way to get the links you want to scrape without having to resort to the error prone HTML scraping or browser automation.</p></div></div></div></div></details><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>A more modern alternative to RSS feeds are <a href="https://en.wikipedia.org/wiki/Atom_(web_standard)" target="_blank" rel="noopener noreferrer">Atom</a> feeds, which can also be scraped with feedparser.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-tips">General tips<a href="#general-tips" class="hash-link" aria-label="Direct link to General tips" title="Direct link to General tips">​</a></h2><ul><li>When doing browser automation, it&#x27;s useful to throw in some <code>time.sleep(SECONDS)</code> to wait for the page/elements to load, or just to do things slower, so you can see what&#x27;s happening when debugging.</li><li>When doing browser automation, keep the browser window size constant, as if the site is responsive (any site that adjusts to mobile screens), it can change a lot when the layout changes from full-width desktop, to half-width or even mobile causing your selectors to stop working. (e.g. the search bar might be hidden behind a hamburger menu on mobile, so you can&#x27;t just select it and enter text, but have to open the menu first).</li><li>Browser automation can be used for more than just scraping. Think of automated testing of web applications.</li><li>When you are done writing your scraper with Selenium, try to switch to <a href="https://www.selenium.dev/blog/2023/headless-is-going-away/" target="_blank" rel="noopener noreferrer">headless mode</a> (launches a browser, but behind the scenes, you don&#x27;t see a window) - this is also useful if you are running a scraper on a server with no GUI at all.</li><li>It&#x27;s normal for your scraper to break (especially if you are doing browser automation) as you are at the mercy of the developers of the website. If they change the structure, your scraper breaks. This is why I recommend saving the data ASAP and ditching the scraper.</li><li>Try to only send requests exactly for what you need. For example, if you are scraping news articles about a specific topic, it makes sense to use the search functionality of the site (if there is one), to narrow down your selection. Furthermore, the headlines of the topics will probably be visible in a list so you can scrape those and then decided for each topic if you want to send a request to open the article or not.</li><li>Always try to be nice to the websites you are scraping, don&#x27;t swarm them with requests. You are also very likely to trigger bot countermeasures and will be rate limited making your scraping take even longer.</li><li>Sites have robots.txt which is usually at <code>https://site.com/robots.txt</code> which defines who can scrape what (e.g. many sites allow Google to scrape them, so that they can be in the search results, but have no reason to allow you to scrape them). This isn&#x27;t particularly enforced and is more of a &quot;please don&#x27;t do this and that&quot;, but you should still try to respect this. e.g. <a href="https://en.wikipedia.org/robots.txt" target="_blank" rel="noopener noreferrer">Wikipedia robots.txt</a></li><li>Sometimes sites have poor search functionality. You can use the power of Google to your advantage. For example, if you want to scrape Reddit for cat pictures you can search <code>site:reddit.com cat pictures</code> to make Google search only on Reddit. There are <a href="https://support.google.com/websearch/answer/2466433?hl=en" target="_blank" rel="noopener noreferrer">many such refinements you can do to your Google searches</a>.</li><li>Make sure that <code>Disable cache</code> is checked in Devtools (network tab), so that your browser and the instance of the browser that Selenium uses see the same thing (there&#x27;s no caching going on).</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="faq">FAQ<a href="#faq" class="hash-link" aria-label="Direct link to FAQ" title="Direct link to FAQ">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-scroll-to-the-bottom-with-selenium">How do I scroll to the bottom with Selenium?<a href="#how-do-i-scroll-to-the-bottom-with-selenium" class="hash-link" aria-label="Direct link to How do I scroll to the bottom with Selenium?" title="Direct link to How do I scroll to the bottom with Selenium?">​</a></h3><p>For this you execute a Javascript script. You can do this from Python with:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">driver</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">execute_script</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;window.scrollTo(0, document.body.scrollHeight);&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="i-cant-click-or-copy-something-from-the-page-with-selenium-but-i-know-the-selectors-are-correct">I can&#x27;t click or copy something from the page with Selenium, but I know the selectors are correct<a href="#i-cant-click-or-copy-something-from-the-page-with-selenium-but-i-know-the-selectors-are-correct" class="hash-link" aria-label="Direct link to I can&#x27;t click or copy something from the page with Selenium, but I know the selectors are correct" title="Direct link to I can&#x27;t click or copy something from the page with Selenium, but I know the selectors are correct">​</a></h3><p>There are many possible reasons why, here&#x27;s some tips:</p><ul><li>Try adding some <code>time.sleep(1)</code> statements to give the browser time to load everything properly</li><li>Selenium can only click on something that is visible in the browser window. So if a button you are trying to click is on the bottom of the page and you can&#x27;t see it without scrolling down, you need to scroll down before you can select it.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-i-reload-the-webpage-in-my-browser-changes-i-made-persist-some-buttons-dont-need-clicking-again-etc-so-now-i-cant-inspect-the-correct-elements-ie-the-login-button-was-hidden-because-i-already-logged-in">When I reload the webpage in my browser, changes I made persist (some buttons don&#x27;t need clicking again, etc.) so now I can&#x27;t inspect the correct elements (i.e. the login button was hidden because I already logged in).<a href="#when-i-reload-the-webpage-in-my-browser-changes-i-made-persist-some-buttons-dont-need-clicking-again-etc-so-now-i-cant-inspect-the-correct-elements-ie-the-login-button-was-hidden-because-i-already-logged-in" class="hash-link" aria-label="Direct link to When I reload the webpage in my browser, changes I made persist (some buttons don&#x27;t need clicking again, etc.) so now I can&#x27;t inspect the correct elements (i.e. the login button was hidden because I already logged in)." title="Direct link to When I reload the webpage in my browser, changes I made persist (some buttons don&#x27;t need clicking again, etc.) so now I can&#x27;t inspect the correct elements (i.e. the login button was hidden because I already logged in).">​</a></h3><p>Open incognito mode in your browser and navigate to the page.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/KlemenVovk/ids-tutoring/edit/master/docs/session2.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ids-tutoring/session1"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Session 1 - Git and Python for data science</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-why-when-and-how" class="table-of-contents__link toc-highlight">The why, when and how</a></li><li><a href="#wait-how-does-the-web-work" class="table-of-contents__link toc-highlight">Wait, how does the web work?</a><ul><li><a href="#what-even-is-a-webpage" class="table-of-contents__link toc-highlight">What even is a webpage?</a></li><li><a href="#how-does-a-webpage-load" class="table-of-contents__link toc-highlight">How does a webpage load?</a></li></ul></li><li><a href="#web-scraping-using-apis" class="table-of-contents__link toc-highlight">Web scraping using APIs</a><ul><li><a href="#but-what-is-an-api-and-how-does-it-differ-from-a-website" class="table-of-contents__link toc-highlight">But, what is an API and how does it differ from a website?</a></li><li><a href="#important-terminology" class="table-of-contents__link toc-highlight">Important terminology</a></li><li><a href="#how-do-we-scrape-data-through-apis" class="table-of-contents__link toc-highlight">How do we scrape data through APIs?</a></li><li><a href="#useful-resources-for-working-with-apis" class="table-of-contents__link toc-highlight">Useful resources for working with APIs</a></li></ul></li><li><a href="#web-scraping-of-static-websites" class="table-of-contents__link toc-highlight">Web scraping of static websites</a><ul><li><a href="#structure-of-an-html-file" class="table-of-contents__link toc-highlight">Structure of an HTML file</a></li><li><a href="#selecting-the-right-element-to-scrape" class="table-of-contents__link toc-highlight">Selecting the right element to scrape</a></li><li><a href="#the-bread-and-butter-for-site-inspection-chrome-devtools" class="table-of-contents__link toc-highlight">The bread and butter for site inspection: Chrome devtools</a></li></ul></li><li><a href="#web-scraping-with-browser-automation" class="table-of-contents__link toc-highlight">Web scraping with browser automation</a><ul><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li></ul></li><li><a href="#bonus-rss-feed-scraping" class="table-of-contents__link toc-highlight">Bonus: RSS feed scraping</a></li><li><a href="#general-tips" class="table-of-contents__link toc-highlight">General tips</a></li><li><a href="#faq" class="table-of-contents__link toc-highlight">FAQ</a><ul><li><a href="#how-do-i-scroll-to-the-bottom-with-selenium" class="table-of-contents__link toc-highlight">How do I scroll to the bottom with Selenium?</a></li><li><a href="#i-cant-click-or-copy-something-from-the-page-with-selenium-but-i-know-the-selectors-are-correct" class="table-of-contents__link toc-highlight">I can&#39;t click or copy something from the page with Selenium, but I know the selectors are correct</a></li><li><a href="#when-i-reload-the-webpage-in-my-browser-changes-i-made-persist-some-buttons-dont-need-clicking-again-etc-so-now-i-cant-inspect-the-correct-elements-ie-the-login-button-was-hidden-because-i-already-logged-in" class="table-of-contents__link toc-highlight">When I reload the webpage in my browser, changes I made persist (some buttons don&#39;t need clicking again, etc.) so now I can&#39;t inspect the correct elements (i.e. the login button was hidden because I already logged in).</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Built with Docusaurus.</div></div></div></footer></div>
<script src="/ids-tutoring/assets/js/runtime~main.ec2a354e.js"></script>
<script src="/ids-tutoring/assets/js/main.ec87df8b.js"></script>
</body>
</html>